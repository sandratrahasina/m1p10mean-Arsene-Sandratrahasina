import {
  NzAlertComponent,
  NzAlertModule
} from "./chunk-HIOVEZWP.js";
import {
  NzSwitchComponent,
  NzSwitchModule
} from "./chunk-LFIK6KM6.js";
import {
  NzMessageService
} from "./chunk-YZR5RPQP.js";
import {
  NzTabComponent,
  NzTabSetComponent,
  NzTabsModule
} from "./chunk-ZR55C46X.js";
import {
  NzDividerComponent,
  NzDividerModule
} from "./chunk-7WT4K46F.js";
import {
  NzInputNumberComponent,
  NzInputNumberModule
} from "./chunk-BAMIZHC5.js";
import {
  NzInputDirective,
  NzInputModule
} from "./chunk-OLWLQNMO.js";
import {
  ZoneOutside
} from "./chunk-JNP2PAJ2.js";
import "./chunk-L2FU2BSY.js";
import "./chunk-SUUEDCXU.js";
import "./chunk-JKEQI6P6.js";
import "./chunk-CZ6RLQOU.js";
import {
  NzToolTipModule,
  NzTooltipDirective
} from "./chunk-G5E3ZBBD.js";
import "./chunk-3ZTF6XOF.js";
import "./chunk-CI5DGOKL.js";
import "./chunk-NTY5IID6.js";
import {
  DefaultValueAccessor,
  FormsModule,
  NgControlStatus,
  NgModel
} from "./chunk-FLHT77OR.js";
import {
  SettingsService
} from "./chunk-KGHF7NNJ.js";
import "./chunk-FSEFCYMU.js";
import {
  NzDrawerComponent,
  NzDrawerContentDirective,
  NzDrawerModule
} from "./chunk-YI23FGK5.js";
import "./chunk-2X2DHHBW.js";
import "./chunk-XRNNFB2N.js";
import "./chunk-IPKUYFYL.js";
import "./chunk-Y4W7AVST.js";
import "./chunk-7A7F2ESV.js";
import "./chunk-Z4GMGEHN.js";
import "./chunk-3Z4XHAHP.js";
import {
  NzButtonComponent,
  NzButtonModule
} from "./chunk-XF22SSGY.js";
import {
  NzWaveDirective
} from "./chunk-AH32UZUP.js";
import {
  NzTransitionPatchDirective
} from "./chunk-UYYIOVNB.js";
import "./chunk-27BDGVS6.js";
import "./chunk-A532CSVY.js";
import "./chunk-Z2ZVAQCX.js";
import {
  NzIconDirective,
  NzIconModule
} from "./chunk-3MXKVZO7.js";
import "./chunk-5QBFNWJX.js";
import "./chunk-6WPOZNJ5.js";
import "./chunk-YORGFY4X.js";
import {
  Directionality
} from "./chunk-DSM4JBCF.js";
import {
  takeUntilDestroyed
} from "./chunk-YWFK6PYB.js";
import {
  copy
} from "./chunk-75EB2NOQ.js";
import {
  LazyService,
  deepCopy
} from "./chunk-Q3BVRUJT.js";
import "./chunk-B7EG4KFO.js";
import "./chunk-NX2IJXEA.js";
import "./chunk-KN3RWPAL.js";
import "./chunk-TQFAWZD6.js";
import "./chunk-BPMU3QPJ.js";
import "./chunk-TECWR7MN.js";
import {
  CommonModule,
  DOCUMENT,
  NgClass
} from "./chunk-WL36VPKJ.js";
import {
  ChangeDetectionStrategy,
  ChangeDetectorRef,
  Component,
  DestroyRef,
  Input,
  InputFlags,
  NgModule,
  NgZone,
  booleanAttribute,
  inject,
  isDevMode,
  setClassMetadata,
  ɵɵInputTransformsFeature,
  ɵɵadvance,
  ɵɵclassProp,
  ɵɵconditional,
  ɵɵdefineComponent,
  ɵɵdefineInjector,
  ɵɵdefineNgModule,
  ɵɵelement,
  ɵɵelementEnd,
  ɵɵelementStart,
  ɵɵgetCurrentView,
  ɵɵlistener,
  ɵɵnextContext,
  ɵɵproperty,
  ɵɵpureFunction0,
  ɵɵpureFunction1,
  ɵɵrepeater,
  ɵɵrepeaterCreate,
  ɵɵrepeaterTrackByIndex,
  ɵɵresetView,
  ɵɵrestoreView,
  ɵɵstyleMap,
  ɵɵtemplate,
  ɵɵtext,
  ɵɵtextInterpolate,
  ɵɵtextInterpolate1,
  ɵɵtwoWayBindingSet,
  ɵɵtwoWayListener,
  ɵɵtwoWayProperty
} from "./chunk-T4EVUEAM.js";
import {
  __decorate
} from "./chunk-JKR55PDT.js";
import {
  __async
} from "./chunk-ASLTLD6L.js";

// node_modules/@delon/theme/fesm2022/setting-drawer.mjs
var _c0 = () => ({
  standalone: true
});
function SettingDrawerItemComponent_Case_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "input", 1);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerItemComponent_Case_4_Template_input_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r6);
      const ctx_r5 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r5.i.value, $event) || (ctx_r5.i.value = $event);
      return ɵɵresetView($event);
    });
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r0 = ɵɵnextContext();
    ɵɵtwoWayProperty("ngModel", ctx_r0.i.value);
    ɵɵproperty("ngModelOptions", ɵɵpureFunction0(2, _c0));
  }
}
function SettingDrawerItemComponent_Case_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "input", 2);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerItemComponent_Case_5_Template_input_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r8);
      const ctx_r7 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r7.i.value, $event) || (ctx_r7.i.value = $event);
      return ɵɵresetView($event);
    });
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = ɵɵnextContext();
    ɵɵtwoWayProperty("ngModel", ctx_r1.i.value);
    ɵɵproperty("ngModelOptions", ɵɵpureFunction0(2, _c0));
  }
}
function SettingDrawerItemComponent_Case_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "nz-input-number", 3);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerItemComponent_Case_6_Template_nz_input_number_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r10);
      const ctx_r9 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r9.pxVal, $event) || (ctx_r9.pxVal = $event);
      return ɵɵresetView($event);
    });
    ɵɵlistener("ngModelChange", function SettingDrawerItemComponent_Case_6_Template_nz_input_number_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r10);
      const ctx_r11 = ɵɵnextContext();
      return ɵɵresetView(ctx_r11.pxChange($event));
    });
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r2 = ɵɵnextContext();
    ɵɵtwoWayProperty("ngModel", ctx_r2.pxVal);
    ɵɵproperty("nzMin", ctx_r2.i.min)("nzMax", ctx_r2.i.max)("nzStep", ctx_r2.i.step || 2)("nzFormatter", ctx_r2.format);
  }
}
function SettingDrawerItemComponent_Case_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "nz-switch", 4);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerItemComponent_Case_7_Template_nz_switch_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r13);
      const ctx_r12 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r12.i.value, $event) || (ctx_r12.i.value = $event);
      return ɵɵresetView($event);
    });
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r3 = ɵɵnextContext();
    ɵɵtwoWayProperty("ngModel", ctx_r3.i.value);
    ɵɵproperty("ngModelOptions", ɵɵpureFunction0(2, _c0));
  }
}
function SettingDrawerItemComponent_Case_8_ng_template_0_Template(rf, ctx) {
}
function SettingDrawerItemComponent_Case_8_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, SettingDrawerItemComponent_Case_8_ng_template_0_Template, 0, 0, "ng-template", 5);
  }
}
function SettingDrawerComponent_div_1_For_5_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "i", 19);
  }
}
var _c1 = (a0) => ({
  "background-color": a0
});
function SettingDrawerComponent_div_1_For_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "span", 18);
    ɵɵlistener("click", function SettingDrawerComponent_div_1_For_5_Template_span_click_0_listener() {
      const restoredCtx = ɵɵrestoreView(_r9);
      const c_r2 = restoredCtx.$implicit;
      const ctx_r8 = ɵɵnextContext(2);
      return ɵɵresetView(ctx_r8.changeColor(c_r2.color));
    });
    ɵɵtemplate(1, SettingDrawerComponent_div_1_For_5_Conditional_1_Template, 1, 0, "i", 19);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const c_r2 = ctx.$implicit;
    const ctx_r1 = ɵɵnextContext(2);
    ɵɵstyleMap(ɵɵpureFunction1(4, _c1, c_r2.color));
    ɵɵproperty("nzTooltipTitle", c_r2.key);
    ɵɵadvance();
    ɵɵconditional(1, ctx_r1.color === c_r2.color ? 1 : -1);
  }
}
function SettingDrawerComponent_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "div", 4)(1, "div", 5)(2, "h3", 6);
    ɵɵtext(3, "主题色");
    ɵɵelementEnd();
    ɵɵrepeaterCreate(4, SettingDrawerComponent_div_1_For_5_Template, 2, 6, "span", 20, ɵɵrepeaterTrackByIndex);
    ɵɵelementEnd();
    ɵɵelement(6, "nz-divider");
    ɵɵelementStart(7, "div", 7)(8, "h3", 6);
    ɵɵtext(9, "设置");
    ɵɵelementEnd();
    ɵɵelementStart(10, "nz-tabset")(11, "nz-tab", 8)(12, "div", 7);
    ɵɵelement(13, "setting-drawer-item", 9)(14, "setting-drawer-item", 9)(15, "setting-drawer-item", 9);
    ɵɵelementEnd()();
    ɵɵelementStart(16, "nz-tab", 10);
    ɵɵelement(17, "setting-drawer-item", 9)(18, "setting-drawer-item", 9)(19, "setting-drawer-item", 9)(20, "setting-drawer-item", 9);
    ɵɵelementEnd();
    ɵɵelementStart(21, "nz-tab", 11);
    ɵɵelement(22, "setting-drawer-item", 9)(23, "setting-drawer-item", 9)(24, "setting-drawer-item", 9)(25, "setting-drawer-item", 9);
    ɵɵelementEnd();
    ɵɵelementStart(26, "nz-tab", 12);
    ɵɵelement(27, "setting-drawer-item", 9)(28, "setting-drawer-item", 9)(29, "setting-drawer-item", 9)(30, "setting-drawer-item", 9)(31, "setting-drawer-item", 9)(32, "setting-drawer-item", 9);
    ɵɵelementEnd()()();
    ɵɵelement(33, "nz-divider");
    ɵɵelementStart(34, "div", 7)(35, "div", 13);
    ɵɵtext(36, " 固定头和侧边栏 ");
    ɵɵelementStart(37, "nz-switch", 14);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerComponent_div_1_Template_nz_switch_ngModelChange_37_listener($event) {
      ɵɵrestoreView(_r11);
      const ctx_r10 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r10.layout.fixed, $event) || (ctx_r10.layout.fixed = $event);
      return ɵɵresetView($event);
    });
    ɵɵlistener("ngModelChange", function SettingDrawerComponent_div_1_Template_nz_switch_ngModelChange_37_listener() {
      ɵɵrestoreView(_r11);
      const ctx_r12 = ɵɵnextContext();
      return ɵɵresetView(ctx_r12.setLayout("fixed", ctx_r12.layout.fixed));
    });
    ɵɵelementEnd()();
    ɵɵelementStart(38, "div", 13);
    ɵɵtext(39, " 色弱模式 ");
    ɵɵelementStart(40, "nz-switch", 14);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerComponent_div_1_Template_nz_switch_ngModelChange_40_listener($event) {
      ɵɵrestoreView(_r11);
      const ctx_r13 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r13.layout.colorWeak, $event) || (ctx_r13.layout.colorWeak = $event);
      return ɵɵresetView($event);
    });
    ɵɵlistener("ngModelChange", function SettingDrawerComponent_div_1_Template_nz_switch_ngModelChange_40_listener() {
      ɵɵrestoreView(_r11);
      const ctx_r14 = ɵɵnextContext();
      return ɵɵresetView(ctx_r14.setLayout("colorWeak", ctx_r14.layout.colorWeak));
    });
    ɵɵelementEnd()()();
    ɵɵelement(41, "nz-divider");
    ɵɵelementStart(42, "button", 15);
    ɵɵlistener("click", function SettingDrawerComponent_div_1_Template_button_click_42_listener() {
      ɵɵrestoreView(_r11);
      const ctx_r15 = ɵɵnextContext();
      return ɵɵresetView(ctx_r15.apply());
    });
    ɵɵtext(43, "预览");
    ɵɵelementEnd();
    ɵɵelementStart(44, "button", 16);
    ɵɵlistener("click", function SettingDrawerComponent_div_1_Template_button_click_44_listener() {
      ɵɵrestoreView(_r11);
      const ctx_r16 = ɵɵnextContext();
      return ɵɵresetView(ctx_r16.reset());
    });
    ɵɵtext(45, "重置");
    ɵɵelementEnd();
    ɵɵelementStart(46, "button", 16);
    ɵɵlistener("click", function SettingDrawerComponent_div_1_Template_button_click_46_listener() {
      ɵɵrestoreView(_r11);
      const ctx_r17 = ɵɵnextContext();
      return ɵɵresetView(ctx_r17.copyVar());
    });
    ɵɵtext(47, "拷贝");
    ɵɵelementEnd();
    ɵɵelement(48, "nz-alert", 17);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r0 = ɵɵnextContext();
    ɵɵadvance(4);
    ɵɵrepeater(ctx_r0.colors);
    ɵɵadvance(9);
    ɵɵproperty("data", ctx_r0.data["alain-default-header-hg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["alain-default-header-bg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["alain-default-header-padding"]);
    ɵɵadvance(2);
    ɵɵproperty("data", ctx_r0.data["alain-default-aside-wd"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["alain-default-aside-bg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["alain-default-aside-collapsed-wd"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["alain-default-aside-nav-padding-top-bottom"]);
    ɵɵadvance(2);
    ɵɵproperty("data", ctx_r0.data["alain-default-content-bg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["alain-default-content-heading-bg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["alain-default-content-heading-border"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["alain-default-content-padding"]);
    ɵɵadvance(2);
    ɵɵproperty("data", ctx_r0.data["form-state-visual-feedback-enabled"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["preserve-white-spaces-enabled"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["nz-table-img-radius"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["nz-table-img-margin-right"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["nz-table-img-max-width"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r0.data["nz-table-img-max-height"]);
    ɵɵadvance(5);
    ɵɵtwoWayProperty("ngModel", ctx_r0.layout.fixed);
    ɵɵadvance(3);
    ɵɵtwoWayProperty("ngModel", ctx_r0.layout.colorWeak);
  }
}
var _c2 = (a0) => ({
  "setting-drawer__handle-opened": a0
});
var _SettingDrawerItemComponent = class _SettingDrawerItemComponent {
  constructor() {
    this.i = {};
    this.pxVal = 0;
    this.format = (value) => `${value} px`;
  }
  set data(val) {
    this.i = val;
    if (val.type === "px") {
      this.pxVal = +val.value.replace("px", "");
    }
  }
  pxChange(val) {
    this.i.value = `${val}px`;
  }
};
_SettingDrawerItemComponent.ɵfac = function SettingDrawerItemComponent_Factory(t) {
  return new (t || _SettingDrawerItemComponent)();
};
_SettingDrawerItemComponent.ɵcmp = ɵɵdefineComponent({
  type: _SettingDrawerItemComponent,
  selectors: [["setting-drawer-item"]],
  hostVars: 2,
  hostBindings: function SettingDrawerItemComponent_HostBindings(rf, ctx) {
    if (rf & 2) {
      ɵɵclassProp("setting-drawer__body-item", true);
    }
  },
  inputs: {
    data: "data"
  },
  decls: 9,
  vars: 3,
  consts: [[1, "pl-sm", "text-grey"], ["nz-input", "", "type", "color", 2, "width", "88px", 3, "ngModel", "ngModelOptions", "ngModelChange"], ["nz-input", "", 2, "width", "88px", 3, "ngModel", "ngModelOptions", "ngModelChange"], [3, "ngModel", "nzMin", "nzMax", "nzStep", "nzFormatter", "ngModelChange"], ["nzSize", "small", 3, "ngModel", "ngModelOptions", "ngModelChange"], ["nzDrawerContent", ""]],
  template: function SettingDrawerItemComponent_Template(rf, ctx) {
    if (rf & 1) {
      ɵɵelementStart(0, "span");
      ɵɵtext(1);
      ɵɵelementStart(2, "span", 0);
      ɵɵtext(3);
      ɵɵelementEnd()();
      ɵɵtemplate(4, SettingDrawerItemComponent_Case_4_Template, 1, 3)(5, SettingDrawerItemComponent_Case_5_Template, 1, 3)(6, SettingDrawerItemComponent_Case_6_Template, 1, 5)(7, SettingDrawerItemComponent_Case_7_Template, 1, 3)(8, SettingDrawerItemComponent_Case_8_Template, 1, 0);
    }
    if (rf & 2) {
      let SettingDrawerItemComponent_contFlowTmp;
      ɵɵadvance();
      ɵɵtextInterpolate1(" ", ctx.i.label, " ");
      ɵɵadvance(2);
      ɵɵtextInterpolate(ctx.i.tip);
      ɵɵadvance();
      ɵɵconditional(4, (SettingDrawerItemComponent_contFlowTmp = ctx.i.type) === "color" ? 4 : SettingDrawerItemComponent_contFlowTmp === "input" ? 5 : SettingDrawerItemComponent_contFlowTmp === "px" ? 6 : SettingDrawerItemComponent_contFlowTmp === "switch" ? 7 : 8);
    }
  },
  dependencies: [DefaultValueAccessor, NgControlStatus, NgModel, NzDrawerContentDirective, NzSwitchComponent, NzInputDirective, NzInputNumberComponent],
  encapsulation: 2
});
var SettingDrawerItemComponent = _SettingDrawerItemComponent;
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(SettingDrawerItemComponent, [{
    type: Component,
    args: [{
      selector: "setting-drawer-item",
      host: {
        "[class.setting-drawer__body-item]": "true"
      },
      template: `<span>
  {{ i.label }}
  <span class="pl-sm text-grey">{{ i.tip }}</span>
</span>
@switch (i.type) {
  @case ('color') {
    <input nz-input type="color" style="width: 88px" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }" />
  }
  @case ('input') {
    <input nz-input style="width: 88px" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }" />
  }
  @case ('px') {
    <nz-input-number
      [(ngModel)]="pxVal"
      (ngModelChange)="pxChange($event)"
      [nzMin]="i.min"
      [nzMax]="i.max"
      [nzStep]="i.step || 2"
      [nzFormatter]="format"
    />
  }
  @case ('switch') {
    <nz-switch nzSize="small" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }" />
  }
  @default {
    <ng-template nzDrawerContent />
  }
}
`
    }]
  }], null, {
    data: [{
      type: Input
    }]
  });
})();
var ALAINDEFAULTVAR = "alain-default-vars";
var DEFAULT_COLORS = [{
  key: "dust",
  color: "#F5222D"
}, {
  key: "volcano",
  color: "#FA541C"
}, {
  key: "sunset",
  color: "#FAAD14"
}, {
  key: "cyan",
  color: "#13C2C2"
}, {
  key: "green",
  color: "#52C41A"
}, {
  key: "daybreak",
  color: "#1890ff"
}, {
  key: "geekblue",
  color: "#2F54EB"
}, {
  key: "purple",
  color: "#722ED1"
}, {
  key: "black",
  color: "#001529"
}];
var DEFAULT_VARS = {
  "primary-color": {
    label: "主颜色",
    type: "color",
    default: "#1890ff"
  },
  "alain-default-header-hg": {
    label: "高",
    type: "px",
    default: "64px",
    max: 300,
    min: 24
  },
  "alain-default-header-bg": {
    label: "背景色",
    type: "color",
    default: "@primary-color",
    tip: "默认同主色系"
  },
  "alain-default-header-padding": {
    label: "顶部左右内边距",
    type: "px",
    default: "16px"
  },
  // 侧边栏
  "alain-default-aside-wd": {
    label: "宽度",
    type: "px",
    default: "200px"
  },
  "alain-default-aside-bg": {
    label: "背景",
    type: "color",
    default: "#ffffff"
  },
  "alain-default-aside-collapsed-wd": {
    label: "收缩宽度",
    type: "px",
    default: "64px"
  },
  "alain-default-aside-nav-padding-top-bottom": {
    label: "项上下内边距",
    type: "px",
    default: "8px",
    step: 8
  },
  // 主菜单
  "alain-default-aside-nav-fs": {
    label: "菜单字号",
    type: "px",
    default: "14px",
    min: 14,
    max: 30
  },
  "alain-default-aside-collapsed-nav-fs": {
    label: "收缩菜单字号",
    type: "px",
    default: "24px",
    min: 24,
    max: 32
  },
  "alain-default-aside-nav-item-height": {
    label: "菜单项高度",
    type: "px",
    default: "38px",
    min: 24,
    max: 64
  },
  "alain-default-aside-nav-text-color": {
    label: "菜单文本颜色",
    type: "color",
    default: "rgba(0, 0, 0, 0.65)",
    rgba: true
  },
  "alain-default-aside-nav-text-hover-color": {
    label: "菜单文本悬停颜色",
    type: "color",
    default: "@primary-color",
    tip: "默认同主色系"
  },
  "alain-default-aside-nav-group-text-color": {
    label: "菜单分组文本颜色",
    type: "color",
    default: "rgba(0, 0, 0, 0.43)",
    rgba: true
  },
  "alain-default-aside-nav-selected-text-color": {
    label: "菜单激活时文本颜色",
    type: "color",
    default: "@primary-color",
    tip: "默认同主色系"
  },
  "alain-default-aside-nav-selected-bg": {
    label: "菜单激活时背景颜色",
    type: "color",
    default: "#fcfcfc"
  },
  // 内容
  "alain-default-content-bg": {
    label: "背景色",
    type: "color",
    default: "#f5f7fa"
  },
  "alain-default-content-heading-bg": {
    label: "标题背景色",
    type: "color",
    default: "#fafbfc"
  },
  "alain-default-content-heading-border": {
    label: "标题底部边框色",
    type: "color",
    default: "#efe3e5"
  },
  "alain-default-content-padding": {
    label: "内边距",
    type: "px",
    default: "24px",
    min: 0,
    max: 128,
    step: 8
  },
  // zorro组件修正
  "form-state-visual-feedback-enabled": {
    label: "开启表单元素的视觉反馈",
    type: "switch",
    default: true
  },
  "preserve-white-spaces-enabled": {
    label: "开启 preserveWhitespaces",
    type: "switch",
    default: true
  },
  "nz-table-img-radius": {
    label: "表格中：图片圆角",
    type: "px",
    default: "4px",
    min: 0,
    max: 128
  },
  "nz-table-img-margin-right": {
    label: "表格中：图片右外边距",
    type: "px",
    default: "4px",
    min: 0,
    max: 128
  },
  "nz-table-img-max-width": {
    label: "表格中：图片最大宽度",
    type: "px",
    default: "32px",
    min: 8,
    max: 128
  },
  "nz-table-img-max-height": {
    label: "表格中：图片最大高度",
    type: "px",
    default: "32px",
    min: 8,
    max: 128
  }
};
var _SettingDrawerComponent = class _SettingDrawerComponent {
  get layout() {
    return this.settingSrv.layout;
  }
  constructor() {
    this.cdr = inject(ChangeDetectorRef);
    this.msg = inject(NzMessageService);
    this.settingSrv = inject(SettingsService);
    this.lazy = inject(LazyService);
    this.ngZone = inject(NgZone);
    this.doc = inject(DOCUMENT);
    this.directionality = inject(Directionality, {
      optional: true
    });
    this.destroy$ = inject(DestroyRef);
    this.autoApplyColor = true;
    this.compilingText = "Compiling...";
    this.devTips = `When the color can't be switched, you need to run it once: npm run color-less`;
    this.lessJs = "https://cdn.jsdelivr.net/npm/less";
    this.loadedLess = false;
    this.dir = "ltr";
    this.isDev = isDevMode();
    this.collapse = false;
    this.data = {};
    this.colors = DEFAULT_COLORS;
    this.color = this.cachedData["@primary-color"] || this.DEFAULT_PRIMARY;
    this.resetData(this.cachedData, false);
  }
  get cachedData() {
    return this.settingSrv.layout[ALAINDEFAULTVAR] || {};
  }
  get DEFAULT_PRIMARY() {
    return DEFAULT_VARS["primary-color"].default;
  }
  ngOnInit() {
    this.dir = this.directionality?.value;
    this.directionality?.change.pipe(takeUntilDestroyed(this.destroy$)).subscribe((direction) => {
      this.dir = direction;
      this.cdr.detectChanges();
    });
    if (this.autoApplyColor && this.color !== this.DEFAULT_PRIMARY) {
      this.changeColor(this.color);
      this.runLess();
    }
  }
  loadLess() {
    return __async(this, null, function* () {
      if (this.loadedLess) {
        return Promise.resolve();
      }
      return this.lazy.loadStyle("./assets/color.less", {
        rel: "stylesheet/less"
      }).then(() => {
        const lessConfigNode = this.doc.createElement("script");
        lessConfigNode.innerHTML = `
          window.less = {
            async: true,
            env: 'production',
            javascriptEnabled: true
          };
        `;
        this.doc.body.appendChild(lessConfigNode);
      }).then(() => this.lazy.loadScript(this.lessJs)).then(() => {
        this.loadedLess = true;
      });
    });
  }
  genVars() {
    const {
      data,
      color,
      validKeys
    } = this;
    const vars = {
      [`@primary-color`]: color
    };
    validKeys.filter((key) => key !== "primary-color").forEach((key) => vars[`@${key}`] = data[key].value);
    this.setLayout(ALAINDEFAULTVAR, vars);
    return vars;
  }
  runLess() {
    const {
      ngZone,
      msg,
      cdr
    } = this;
    const msgId = msg.loading(this.compilingText, {
      nzDuration: 0
    }).messageId;
    setTimeout(() => {
      this.loadLess().then(() => {
        window.less.modifyVars(this.genVars()).then(() => {
          msg.success("成功");
          msg.remove(msgId);
          ngZone.run(() => cdr.detectChanges());
        });
      });
    }, 200);
  }
  toggle() {
    this.collapse = !this.collapse;
  }
  changeColor(color) {
    this.color = color;
    Object.keys(DEFAULT_VARS).filter((key) => DEFAULT_VARS[key].default === "@primary-color").forEach((key) => delete this.cachedData[`@${key}`]);
    this.resetData(this.cachedData, false);
  }
  setLayout(name, value) {
    this.settingSrv.setLayout(name, value);
  }
  resetData(nowData, run = true) {
    nowData = nowData || {};
    const data = deepCopy(DEFAULT_VARS);
    Object.keys(data).forEach((key) => {
      const value = nowData[`@${key}`] || data[key].default || "";
      data[key].value = value === `@primary-color` ? this.color : value;
    });
    this.data = data;
    if (run) {
      this.cdr.detectChanges();
      this.runLess();
    }
  }
  get validKeys() {
    return Object.keys(this.data).filter((key) => this.data[key].value !== this.data[key].default);
  }
  apply() {
    this.runLess();
  }
  reset() {
    this.color = this.DEFAULT_PRIMARY;
    this.settingSrv.setLayout(ALAINDEFAULTVAR, {});
    this.resetData({});
  }
  copyVar() {
    const vars = this.genVars();
    const copyContent = Object.keys(vars).map((key) => `${key}: ${vars[key]};`).join("\n");
    copy(copyContent);
    this.msg.success("Copy success");
  }
};
_SettingDrawerComponent.ɵfac = function SettingDrawerComponent_Factory(t) {
  return new (t || _SettingDrawerComponent)();
};
_SettingDrawerComponent.ɵcmp = ɵɵdefineComponent({
  type: _SettingDrawerComponent,
  selectors: [["setting-drawer"]],
  hostVars: 4,
  hostBindings: function SettingDrawerComponent_HostBindings(rf, ctx) {
    if (rf & 2) {
      ɵɵclassProp("setting-drawer", true)("setting-drawer-rtl", ctx.dir === "rtl");
    }
  },
  inputs: {
    autoApplyColor: [InputFlags.HasDecoratorInputTransform, "autoApplyColor", "autoApplyColor", booleanAttribute],
    compilingText: "compilingText",
    devTips: "devTips",
    lessJs: "lessJs"
  },
  features: [ɵɵInputTransformsFeature],
  decls: 4,
  vars: 8,
  consts: [[3, "nzVisible", "nzPlacement", "nzWidth", "nzOnClose"], ["class", "setting-drawer__content", 4, "nzDrawerContent"], ["nz-tooltip", "", 1, "setting-drawer__handle", 3, "ngClass", "nzTooltipTitle", "click"], ["nz-icon", "", 1, "setting-drawer__handle-icon", 3, "nzType"], [1, "setting-drawer__content"], [1, "setting-drawer__body", "setting-drawer__theme"], [1, "setting-drawer__title"], [1, "setting-drawer__body"], ["nzTitle", "顶部"], [3, "data"], ["nzTitle", "侧边栏"], ["nzTitle", "内容"], ["nzTitle", "其它"], [1, "setting-drawer__body-item"], ["nzSize", "small", 3, "ngModel", "ngModelChange"], ["type", "button", "nz-button", "", "nzType", "primary", 3, "click"], ["type", "button", "nz-button", "", 3, "click"], ["nzType", "warning", "nzMessage", "配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改参数配置文件 src/styles/theme.less", 1, "mt-md"], ["nz-tooltip", "", 1, "setting-drawer__theme-tag", 3, "nzTooltipTitle", "click"], ["nz-icon", "", "nzType", "check"], ["nz-tooltip", "", "class", "setting-drawer__theme-tag", 3, "style", "nzTooltipTitle"]],
  template: function SettingDrawerComponent_Template(rf, ctx) {
    if (rf & 1) {
      ɵɵelementStart(0, "nz-drawer", 0);
      ɵɵlistener("nzOnClose", function SettingDrawerComponent_Template_nz_drawer_nzOnClose_0_listener() {
        return ctx.toggle();
      });
      ɵɵtemplate(1, SettingDrawerComponent_div_1_Template, 49, 19, "div", 1);
      ɵɵelementEnd();
      ɵɵelementStart(2, "div", 2);
      ɵɵlistener("click", function SettingDrawerComponent_Template_div_click_2_listener() {
        return ctx.toggle();
      });
      ɵɵelement(3, "i", 3);
      ɵɵelementEnd();
    }
    if (rf & 2) {
      ɵɵproperty("nzVisible", ctx.collapse)("nzPlacement", ctx.dir === "rtl" ? "left" : "right")("nzWidth", 500);
      ɵɵadvance(2);
      ɵɵproperty("ngClass", ɵɵpureFunction1(6, _c2, ctx.collapse))("nzTooltipTitle", ctx.isDev ? ctx.devTips : null);
      ɵɵadvance();
      ɵɵproperty("nzType", !ctx.collapse ? "setting" : "close");
    }
  },
  dependencies: [NgClass, NgControlStatus, NgModel, NzDrawerComponent, NzDrawerContentDirective, NzTooltipDirective, NzDividerComponent, NzTabSetComponent, NzTabComponent, NzSwitchComponent, NzAlertComponent, NzIconDirective, NzButtonComponent, NzTransitionPatchDirective, NzWaveDirective, SettingDrawerItemComponent],
  encapsulation: 2,
  changeDetection: 0
});
var SettingDrawerComponent = _SettingDrawerComponent;
__decorate([ZoneOutside()], SettingDrawerComponent.prototype, "loadLess", null);
__decorate([ZoneOutside()], SettingDrawerComponent.prototype, "runLess", null);
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(SettingDrawerComponent, [{
    type: Component,
    args: [{
      selector: "setting-drawer",
      host: {
        "[class.setting-drawer]": "true",
        "[class.setting-drawer-rtl]": `dir === 'rtl'`
      },
      changeDetection: ChangeDetectionStrategy.OnPush,
      template: `<nz-drawer
  [nzVisible]="collapse"
  [nzPlacement]="dir === 'rtl' ? 'left' : 'right'"
  [nzWidth]="500"
  (nzOnClose)="toggle()"
>
  <div *nzDrawerContent class="setting-drawer__content">
    <div class="setting-drawer__body setting-drawer__theme">
      <h3 class="setting-drawer__title">主题色</h3>
      @for (c of colors; track $index) {
        <span
          [style]="{ 'background-color': c.color }"
          (click)="changeColor(c.color)"
          nz-tooltip
          [nzTooltipTitle]="c.key"
          class="setting-drawer__theme-tag"
        >
          @if (color === c.color) {
            <i nz-icon nzType="check"></i>
          }
        </span>
      }
    </div>
    <nz-divider />
    <div class="setting-drawer__body">
      <h3 class="setting-drawer__title">设置</h3>
      <nz-tabset>
        <nz-tab nzTitle="顶部">
          <div class="setting-drawer__body">
            <setting-drawer-item [data]="data['alain-default-header-hg']" />
            <setting-drawer-item [data]="data['alain-default-header-bg']" />
            <setting-drawer-item [data]="data['alain-default-header-padding']" />
          </div>
        </nz-tab>
        <nz-tab nzTitle="侧边栏">
          <setting-drawer-item [data]="data['alain-default-aside-wd']" />
          <setting-drawer-item [data]="data['alain-default-aside-bg']" />
          <setting-drawer-item [data]="data['alain-default-aside-collapsed-wd']" />
          <setting-drawer-item [data]="data['alain-default-aside-nav-padding-top-bottom']" />
        </nz-tab>
        <nz-tab nzTitle="内容">
          <setting-drawer-item [data]="data['alain-default-content-bg']" />
          <setting-drawer-item [data]="data['alain-default-content-heading-bg']" />
          <setting-drawer-item [data]="data['alain-default-content-heading-border']" />
          <setting-drawer-item [data]="data['alain-default-content-padding']" />
        </nz-tab>
        <nz-tab nzTitle="其它">
          <setting-drawer-item [data]="data['form-state-visual-feedback-enabled']" />
          <setting-drawer-item [data]="data['preserve-white-spaces-enabled']" />
          <setting-drawer-item [data]="data['nz-table-img-radius']" />
          <setting-drawer-item [data]="data['nz-table-img-margin-right']" />
          <setting-drawer-item [data]="data['nz-table-img-max-width']" />
          <setting-drawer-item [data]="data['nz-table-img-max-height']" />
        </nz-tab>
      </nz-tabset>
    </div>
    <nz-divider />
    <div class="setting-drawer__body">
      <div class="setting-drawer__body-item">
        固定头和侧边栏
        <nz-switch nzSize="small" [(ngModel)]="layout.fixed" (ngModelChange)="setLayout('fixed', layout.fixed)" />
      </div>
      <div class="setting-drawer__body-item">
        色弱模式
        <nz-switch
          nzSize="small"
          [(ngModel)]="layout.colorWeak"
          (ngModelChange)="setLayout('colorWeak', layout.colorWeak)"
        />
      </div>
    </div>
    <nz-divider />
    <button (click)="apply()" type="button" nz-button nzType="primary">预览</button>
    <button (click)="reset()" type="button" nz-button>重置</button>
    <button (click)="copyVar()" type="button" nz-button>拷贝</button>
    <nz-alert
      class="mt-md"
      nzType="warning"
      nzMessage="配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改参数配置文件 src/styles/theme.less"
    />
  </div>
</nz-drawer>
<div
  class="setting-drawer__handle"
  [ngClass]="{ 'setting-drawer__handle-opened': collapse }"
  (click)="toggle()"
  nz-tooltip
  [nzTooltipTitle]="isDev ? devTips : null"
>
  <i nz-icon [nzType]="!collapse ? 'setting' : 'close'" class="setting-drawer__handle-icon"></i>
</div>
`
    }]
  }], () => [], {
    autoApplyColor: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    compilingText: [{
      type: Input
    }],
    devTips: [{
      type: Input
    }],
    lessJs: [{
      type: Input
    }],
    loadLess: [],
    runLess: []
  });
})();
var COMPONENTS = [SettingDrawerItemComponent, SettingDrawerComponent];
var _SettingDrawerModule = class _SettingDrawerModule {
};
_SettingDrawerModule.ɵfac = function SettingDrawerModule_Factory(t) {
  return new (t || _SettingDrawerModule)();
};
_SettingDrawerModule.ɵmod = ɵɵdefineNgModule({
  type: _SettingDrawerModule,
  declarations: [SettingDrawerItemComponent, SettingDrawerComponent],
  imports: [CommonModule, FormsModule, NzDrawerModule, NzToolTipModule, NzDividerModule, NzTabsModule, NzSwitchModule, NzAlertModule, NzIconModule, NzInputModule, NzInputNumberModule, NzButtonModule],
  exports: [SettingDrawerItemComponent, SettingDrawerComponent]
});
_SettingDrawerModule.ɵinj = ɵɵdefineInjector({
  imports: [CommonModule, FormsModule, NzDrawerModule, NzToolTipModule, NzDividerModule, NzTabsModule, NzSwitchModule, NzAlertModule, NzIconModule, NzInputModule, NzInputNumberModule, NzButtonModule]
});
var SettingDrawerModule = _SettingDrawerModule;
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(SettingDrawerModule, [{
    type: NgModule,
    args: [{
      imports: [CommonModule, FormsModule, NzDrawerModule, NzToolTipModule, NzDividerModule, NzTabsModule, NzSwitchModule, NzAlertModule, NzIconModule, NzInputModule, NzInputNumberModule, NzButtonModule],
      declarations: COMPONENTS,
      exports: COMPONENTS
    }]
  }], null, null);
})();
export {
  SettingDrawerComponent,
  SettingDrawerItemComponent,
  SettingDrawerModule
};
//# sourceMappingURL=@delon_theme_setting-drawer.js.map
