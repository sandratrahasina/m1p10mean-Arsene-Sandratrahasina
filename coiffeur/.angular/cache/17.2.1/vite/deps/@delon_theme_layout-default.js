import {
  NzMessageModule,
  NzMessageService
} from "./chunk-YZR5RPQP.js";
import {
  NzAvatarModule
} from "./chunk-KKQTR22Y.js";
import {
  ZoneOutside
} from "./chunk-JNP2PAJ2.js";
import {
  NzBadgeComponent,
  NzBadgeModule
} from "./chunk-SUXV5X43.js";
import {
  WINDOW
} from "./chunk-ZGRETNTS.js";
import {
  NzDropDownModule
} from "./chunk-SUUEDCXU.js";
import "./chunk-JKEQI6P6.js";
import {
  NzToolTipModule,
  NzTooltipDirective
} from "./chunk-G5E3ZBBD.js";
import "./chunk-3ZTF6XOF.js";
import "./chunk-CI5DGOKL.js";
import "./chunk-NTY5IID6.js";
import {
  MenuService,
  SettingsService
} from "./chunk-KGHF7NNJ.js";
import "./chunk-FSEFCYMU.js";
import "./chunk-YI23FGK5.js";
import "./chunk-2X2DHHBW.js";
import "./chunk-XRNNFB2N.js";
import "./chunk-IPKUYFYL.js";
import "./chunk-Y4W7AVST.js";
import "./chunk-7A7F2ESV.js";
import "./chunk-Z4GMGEHN.js";
import "./chunk-3Z4XHAHP.js";
import "./chunk-XF22SSGY.js";
import "./chunk-AH32UZUP.js";
import "./chunk-UYYIOVNB.js";
import "./chunk-27BDGVS6.js";
import "./chunk-A532CSVY.js";
import "./chunk-Z2ZVAQCX.js";
import {
  NzIconDirective,
  NzIconModule
} from "./chunk-3MXKVZO7.js";
import "./chunk-5QBFNWJX.js";
import "./chunk-6WPOZNJ5.js";
import "./chunk-YORGFY4X.js";
import {
  Directionality
} from "./chunk-DSM4JBCF.js";
import {
  takeUntilDestroyed
} from "./chunk-YWFK6PYB.js";
import {
  updateHostClass
} from "./chunk-75EB2NOQ.js";
import "./chunk-Q3BVRUJT.js";
import "./chunk-B7EG4KFO.js";
import "./chunk-NX2IJXEA.js";
import "./chunk-KN3RWPAL.js";
import {
  NavigationCancel,
  NavigationEnd,
  NavigationError,
  RouteConfigLoadEnd,
  RouteConfigLoadStart,
  Router,
  RouterLink,
  RouterModule
} from "./chunk-TQFAWZD6.js";
import {
  DomSanitizer
} from "./chunk-BPMU3QPJ.js";
import "./chunk-TECWR7MN.js";
import {
  CommonModule,
  DOCUMENT,
  NgClass,
  NgTemplateOutlet
} from "./chunk-WL36VPKJ.js";
import {
  ChangeDetectionStrategy,
  ChangeDetectorRef,
  Component,
  ContentChildren,
  DestroyRef,
  Directive,
  ElementRef,
  EventEmitter,
  Inject,
  Injectable,
  Input,
  InputFlags,
  NgModule,
  NgZone,
  Output,
  Renderer2,
  ViewChild,
  ViewEncapsulation$1,
  booleanAttribute,
  inject,
  numberAttribute,
  setClassMetadata,
  ɵɵInputTransformsFeature,
  ɵɵadvance,
  ɵɵattribute,
  ɵɵclassMapInterpolate1,
  ɵɵclassProp,
  ɵɵconditional,
  ɵɵcontentQuery,
  ɵɵdefineComponent,
  ɵɵdefineDirective,
  ɵɵdefineInjectable,
  ɵɵdefineInjector,
  ɵɵdefineNgModule,
  ɵɵdirectiveInject,
  ɵɵelement,
  ɵɵelementContainer,
  ɵɵelementEnd,
  ɵɵelementStart,
  ɵɵgetCurrentView,
  ɵɵlistener,
  ɵɵloadQuery,
  ɵɵnextContext,
  ɵɵprojection,
  ɵɵprojectionDef,
  ɵɵproperty,
  ɵɵpureFunction1,
  ɵɵqueryRefresh,
  ɵɵreference,
  ɵɵrepeater,
  ɵɵrepeaterCreate,
  ɵɵrepeaterTrackByIndex,
  ɵɵresetView,
  ɵɵresolveDocument,
  ɵɵrestoreView,
  ɵɵsanitizeHtml,
  ɵɵsanitizeUrl,
  ɵɵstyleProp,
  ɵɵtemplate,
  ɵɵtemplateRefExtractor,
  ɵɵviewQuery
} from "./chunk-T4EVUEAM.js";
import {
  BehaviorSubject,
  __decorate,
  filter
} from "./chunk-JKR55PDT.js";
import {
  __spreadValues
} from "./chunk-ASLTLD6L.js";

// node_modules/@delon/theme/fesm2022/layout-default.mjs
var _c0 = ["host"];
function LayoutDefaultHeaderItemComponent_ng_template_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵprojection(0);
  }
}
var _c1 = ["*"];
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "i", 3);
  }
  if (rf & 2) {
    const i_r5 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("nzType", i_r5.value)("nzTheme", i_r5.theme)("nzSpin", i_r5.spin)("nzTwotoneColor", i_r5.twoToneColor)("nzIconfont", i_r5.iconfont)("nzRotate", i_r5.rotate);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "i", 4);
  }
  if (rf & 2) {
    const i_r5 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("nzIconfont", i_r5.iconfont);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_2_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "img", 5);
  }
  if (rf & 2) {
    const i_r5 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("src", i_r5.value, ɵɵsanitizeUrl);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_3_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "span", 6);
  }
  if (rf & 2) {
    const i_r5 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("innerHTML", i_r5.value, ɵɵsanitizeHtml);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "i");
  }
  if (rf & 2) {
    const i_r5 = ɵɵnextContext(2).$implicit;
    ɵɵclassMapInterpolate1("sidebar-nav__item-icon ", i_r5.value, "");
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_0_Template, 1, 6)(1, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_1_Template, 1, 1)(2, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_2_Template, 1, 1)(3, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_3_Template, 1, 1)(4, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_4_Template, 1, 3);
  }
  if (rf & 2) {
    const i_r5 = ɵɵnextContext().$implicit;
    let LayoutDefaultNavComponent_ng_template_0_Conditional_0_contFlowTmp;
    ɵɵconditional(0, (LayoutDefaultNavComponent_ng_template_0_Conditional_0_contFlowTmp = i_r5.type) === "icon" ? 0 : LayoutDefaultNavComponent_ng_template_0_Conditional_0_contFlowTmp === "iconfont" ? 1 : LayoutDefaultNavComponent_ng_template_0_Conditional_0_contFlowTmp === "img" ? 2 : LayoutDefaultNavComponent_ng_template_0_Conditional_0_contFlowTmp === "svg" ? 3 : 4);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Template, 5, 1);
  }
  if (rf & 2) {
    const i_r5 = ctx.$implicit;
    ɵɵconditional(0, i_r5 ? 0 : -1);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_0_ng_template_1_Template(rf, ctx) {
}
var _c2 = (a0) => ({
  $implicit: a0
});
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "span", 15);
    ɵɵtemplate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_0_ng_template_1_Template, 0, 0, "ng-template", 16);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r20 = ɵɵnextContext(4).$implicit;
    ɵɵnextContext(2);
    const _r1 = ɵɵreference(1);
    ɵɵproperty("nzTooltipTitle", i_r20.text);
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", _r1)("ngTemplateOutletContext", ɵɵpureFunction1(3, _c2, i_r20.icon));
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_ng_template_0_Template(rf, ctx) {
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_ng_template_0_Template, 0, 0, "ng-template", 16);
  }
  if (rf & 2) {
    const i_r20 = ɵɵnextContext(4).$implicit;
    ɵɵnextContext(2);
    const _r1 = ɵɵreference(1);
    ɵɵproperty("ngTemplateOutlet", _r1)("ngTemplateOutletContext", ɵɵpureFunction1(2, _c2, i_r20.icon));
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_0_Template, 2, 5, "span", 15)(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Template, 1, 4);
  }
  if (rf & 2) {
    const ctx_r30 = ɵɵnextContext(5);
    ɵɵconditional(0, ctx_r30.collapsed ? 0 : 1);
  }
}
var _c3 = (a0) => ({
  "sidebar-nav__item-disabled": a0
});
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r39 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "a", 13);
    ɵɵlistener("click", function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Template_a_click_0_listener() {
      ɵɵrestoreView(_r39);
      const i_r20 = ɵɵnextContext(2).$implicit;
      const ctx_r37 = ɵɵnextContext(2);
      return ɵɵresetView(ctx_r37.to(i_r20));
    })("mouseenter", function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Template_a_mouseenter_0_listener() {
      ɵɵrestoreView(_r39);
      const ctx_r40 = ɵɵnextContext(4);
      return ɵɵresetView(ctx_r40.closeSubMenu());
    });
    ɵɵtemplate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Template, 2, 1);
    ɵɵelement(2, "span", 14);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r20 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("ngClass", ɵɵpureFunction1(5, _c3, i_r20.disabled));
    ɵɵattribute("data-id", i_r20._id);
    ɵɵadvance();
    ɵɵconditional(1, i_r20._needIcon ? 1 : -1);
    ɵɵadvance();
    ɵɵproperty("innerHTML", i_r20._text, ɵɵsanitizeHtml);
    ɵɵattribute("title", i_r20.text);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_2_ng_template_1_Template(rf, ctx) {
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r45 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "a", 17);
    ɵɵlistener("click", function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_2_Template_a_click_0_listener() {
      ɵɵrestoreView(_r45);
      const i_r20 = ɵɵnextContext(2).$implicit;
      const ctx_r43 = ɵɵnextContext(2);
      return ɵɵresetView(ctx_r43.toggleOpen(i_r20));
    })("mouseenter", function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_2_Template_a_mouseenter_0_listener($event) {
      ɵɵrestoreView(_r45);
      const i_r20 = ɵɵnextContext(2).$implicit;
      const ctx_r46 = ɵɵnextContext(2);
      return ɵɵresetView(ctx_r46.showSubMenu($event, i_r20));
    });
    ɵɵtemplate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_2_ng_template_1_Template, 0, 0, "ng-template", 16);
    ɵɵelement(2, "span", 14)(3, "i", 18);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r20 = ɵɵnextContext(2).$implicit;
    ɵɵnextContext(2);
    const _r1 = ɵɵreference(1);
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", _r1)("ngTemplateOutletContext", ɵɵpureFunction1(4, _c2, i_r20.icon));
    ɵɵadvance();
    ɵɵproperty("innerHTML", i_r20._text, ɵɵsanitizeHtml);
    ɵɵattribute("title", i_r20.text);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_3_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "nz-badge", 11);
  }
  if (rf & 2) {
    const i_r20 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("nzCount", i_r20.badge)("nzDot", i_r20.badgeDot)("nzOverflowCount", 9);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_4_ng_template_1_Template(rf, ctx) {
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "ul");
    ɵɵtemplate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_4_ng_template_1_Template, 0, 0, "ng-template", 16);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r20 = ɵɵnextContext(2).$implicit;
    ɵɵnextContext(2);
    const _r3 = ɵɵreference(3);
    ɵɵclassMapInterpolate1("sidebar-nav sidebar-nav__sub sidebar-nav__depth", i_r20._depth, "");
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", _r3)("ngTemplateOutletContext", ɵɵpureFunction1(5, _c2, i_r20.children));
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "li", 8);
    ɵɵtemplate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Template, 3, 7, "a", 9)(2, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_2_Template, 4, 6, "a", 10)(3, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_3_Template, 1, 3, "nz-badge", 11)(4, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_4_Template, 2, 7, "ul", 12);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r20 = ɵɵnextContext().$implicit;
    ɵɵclassProp("sidebar-nav__selected", i_r20._selected)("sidebar-nav__open", i_r20.open);
    ɵɵadvance();
    ɵɵconditional(1, i_r20.children.length === 0 ? 1 : -1);
    ɵɵadvance();
    ɵɵconditional(2, i_r20.children.length > 0 ? 2 : -1);
    ɵɵadvance();
    ɵɵconditional(3, i_r20.badge ? 3 : -1);
    ɵɵadvance();
    ɵɵconditional(4, i_r20.children.length > 0 ? 4 : -1);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Template, 5, 8, "li", 7);
  }
  if (rf & 2) {
    const i_r20 = ctx.$implicit;
    ɵɵconditional(0, i_r20._hidden !== true ? 0 : -1);
  }
}
function LayoutDefaultNavComponent_ng_template_2_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵrepeaterCreate(0, LayoutDefaultNavComponent_ng_template_2_For_1_Template, 1, 1, null, null, ɵɵrepeaterTrackByIndex);
  }
  if (rf & 2) {
    const ls_r18 = ctx.$implicit;
    ɵɵrepeater(ls_r18);
  }
}
function LayoutDefaultNavComponent_For_6_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "li", 20);
    ɵɵelement(1, "span", 21);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const group_r53 = ɵɵnextContext().$implicit;
    ɵɵadvance();
    ɵɵproperty("innerHTML", group_r53._text, ɵɵsanitizeHtml);
  }
}
function LayoutDefaultNavComponent_For_6_ng_template_1_Template(rf, ctx) {
}
function LayoutDefaultNavComponent_For_6_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultNavComponent_For_6_Conditional_0_Template, 2, 1, "li", 19)(1, LayoutDefaultNavComponent_For_6_ng_template_1_Template, 0, 0, "ng-template", 16);
  }
  if (rf & 2) {
    const group_r53 = ctx.$implicit;
    ɵɵnextContext();
    const _r3 = ɵɵreference(3);
    ɵɵconditional(0, group_r53.group ? 0 : -1);
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", _r3)("ngTemplateOutletContext", ɵɵpureFunction1(3, _c2, group_r53.children));
  }
}
function LayoutDefaultHeaderComponent_ng_template_0_For_1_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultHeaderComponent_ng_template_0_For_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "li");
    ɵɵtemplate(1, LayoutDefaultHeaderComponent_ng_template_0_For_1_ng_container_1_Template, 1, 0, "ng-container", 6);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r10 = ctx.$implicit;
    ɵɵclassProp("hidden-mobile", i_r10.hidden === "mobile")("hidden-pc", i_r10.hidden === "pc");
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", i_r10.host);
  }
}
function LayoutDefaultHeaderComponent_ng_template_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵrepeaterCreate(0, LayoutDefaultHeaderComponent_ng_template_0_For_1_Template, 2, 5, "li", 7, ɵɵrepeaterTrackByIndex);
  }
  if (rf & 2) {
    const ls_r8 = ctx.$implicit;
    ɵɵrepeater(ls_r8);
  }
}
function LayoutDefaultHeaderComponent_Conditional_3_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultHeaderComponent_Conditional_3_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultHeaderComponent_Conditional_3_ng_container_0_Template, 1, 0, "ng-container", 6);
  }
  if (rf & 2) {
    const ctx_r2 = ɵɵnextContext();
    ɵɵproperty("ngTemplateOutlet", ctx_r2.opt.logo);
  }
}
function LayoutDefaultHeaderComponent_Conditional_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "a", 8);
    ɵɵelement(1, "img", 9)(2, "img", 10);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r3 = ɵɵnextContext();
    ɵɵproperty("routerLink", ctx_r3.opt.logoLink);
    ɵɵadvance();
    ɵɵattribute("src", ctx_r3.opt.logoExpanded, ɵɵsanitizeUrl)("alt", ctx_r3.app.name);
    ɵɵadvance();
    ɵɵattribute("src", ctx_r3.opt.logoCollapsed, ɵɵsanitizeUrl)("alt", ctx_r3.app.name);
  }
}
function LayoutDefaultHeaderComponent_Conditional_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "li")(1, "div", 11);
    ɵɵlistener("click", function LayoutDefaultHeaderComponent_Conditional_7_Template_div_click_1_listener() {
      ɵɵrestoreView(_r18);
      const ctx_r17 = ɵɵnextContext();
      return ɵɵresetView(ctx_r17.toggleCollapsed());
    });
    ɵɵelement(2, "span", 12);
    ɵɵelementEnd()();
  }
  if (rf & 2) {
    const ctx_r4 = ɵɵnextContext();
    ɵɵadvance(2);
    ɵɵproperty("nzType", ctx_r4.collapsedIcon);
  }
}
function LayoutDefaultHeaderComponent_ng_template_8_Template(rf, ctx) {
}
function LayoutDefaultHeaderComponent_Conditional_9_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultHeaderComponent_Conditional_9_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "div", 13);
    ɵɵtemplate(1, LayoutDefaultHeaderComponent_Conditional_9_ng_container_1_Template, 1, 0, "ng-container", 6);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r6 = ɵɵnextContext();
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", ctx_r6.middle[0].host);
  }
}
function LayoutDefaultHeaderComponent_ng_template_11_Template(rf, ctx) {
}
function LayoutDefaultComponent_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "div", 5);
  }
}
function LayoutDefaultComponent_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "layout-default-header", 1);
  }
  if (rf & 2) {
    const ctx_r1 = ɵɵnextContext();
    ɵɵproperty("items", ctx_r1.headerItems);
  }
}
function LayoutDefaultComponent_Conditional_2_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultComponent_Conditional_2_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_5_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "layout-default-nav");
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_1_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_1_ng_container_0_Template, 1, 0, "ng-container", 4);
  }
  if (rf & 2) {
    const ctx_r8 = ɵɵnextContext(3);
    ɵɵproperty("ngTemplateOutlet", ctx_r8.asideBottom);
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "div", 11);
    ɵɵlistener("click", function LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_2_Template_div_click_0_listener() {
      ɵɵrestoreView(_r12);
      const ctx_r11 = ɵɵnextContext(3);
      return ɵɵresetView(ctx_r11.toggleCollapsed());
    });
    ɵɵelement(1, "span", 12);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r9 = ɵɵnextContext(3);
    ɵɵadvance();
    ɵɵproperty("nzType", ctx_r9.collapsedIcon);
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_6_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "div", 10);
    ɵɵtemplate(1, LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_1_Template, 1, 1, "ng-container")(2, LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_2_Template, 2, 1);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r7 = ɵɵnextContext(2);
    ɵɵadvance();
    ɵɵconditional(1, ctx_r7.asideBottom ? 1 : 2);
  }
}
function LayoutDefaultComponent_Conditional_2_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "div", 6)(1, "div", 7)(2, "div", 8);
    ɵɵtemplate(3, LayoutDefaultComponent_Conditional_2_ng_container_3_Template, 1, 0, "ng-container", 4)(4, LayoutDefaultComponent_Conditional_2_ng_container_4_Template, 1, 0, "ng-container", 4)(5, LayoutDefaultComponent_Conditional_2_Conditional_5_Template, 1, 0, "layout-default-nav");
    ɵɵelementEnd();
    ɵɵtemplate(6, LayoutDefaultComponent_Conditional_2_Conditional_6_Template, 3, 1, "div", 9);
    ɵɵelementEnd()();
  }
  if (rf & 2) {
    const ctx_r2 = ɵɵnextContext();
    ɵɵadvance(3);
    ɵɵproperty("ngTemplateOutlet", ctx_r2.asideUser);
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", ctx_r2.nav);
    ɵɵadvance();
    ɵɵconditional(5, !ctx_r2.nav ? 5 : -1);
    ɵɵadvance();
    ɵɵconditional(6, ctx_r2.opt.showSiderCollapse ? 6 : -1);
  }
}
function LayoutDefaultComponent_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
var _LayoutDefaultHeaderItemComponent = class _LayoutDefaultHeaderItemComponent {
  constructor() {
    this.hidden = "none";
    this.direction = "right";
  }
};
_LayoutDefaultHeaderItemComponent.ɵfac = function LayoutDefaultHeaderItemComponent_Factory(t) {
  return new (t || _LayoutDefaultHeaderItemComponent)();
};
_LayoutDefaultHeaderItemComponent.ɵcmp = ɵɵdefineComponent({
  type: _LayoutDefaultHeaderItemComponent,
  selectors: [["layout-default-header-item"]],
  viewQuery: function LayoutDefaultHeaderItemComponent_Query(rf, ctx) {
    if (rf & 1) {
      ɵɵviewQuery(_c0, 7);
    }
    if (rf & 2) {
      let _t;
      ɵɵqueryRefresh(_t = ɵɵloadQuery()) && (ctx.host = _t.first);
    }
  },
  inputs: {
    hidden: "hidden",
    direction: "direction"
  },
  ngContentSelectors: _c1,
  decls: 2,
  vars: 0,
  consts: [["host", ""]],
  template: function LayoutDefaultHeaderItemComponent_Template(rf, ctx) {
    if (rf & 1) {
      ɵɵprojectionDef();
      ɵɵtemplate(0, LayoutDefaultHeaderItemComponent_ng_template_0_Template, 1, 0, "ng-template", null, 0, ɵɵtemplateRefExtractor);
    }
  },
  encapsulation: 2
});
var LayoutDefaultHeaderItemComponent = _LayoutDefaultHeaderItemComponent;
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultHeaderItemComponent, [{
    type: Component,
    args: [{
      selector: "layout-default-header-item",
      template: `
    <ng-template #host>
      <ng-content />
    </ng-template>
  `
    }]
  }], null, {
    host: [{
      type: ViewChild,
      args: ["host", {
        static: true
      }]
    }],
    hidden: [{
      type: Input
    }],
    direction: [{
      type: Input
    }]
  });
})();
var DEFAULT = {
  logoExpanded: `./assets/logo-full.svg`,
  logoCollapsed: `./assets/logo.svg`,
  logoLink: `/`,
  showHeaderCollapse: true,
  showSiderCollapse: false,
  hideAside: false,
  hideHeader: false
};
var _LayoutDefaultService = class _LayoutDefaultService {
  constructor() {
    this.settings = inject(SettingsService);
    this._options$ = new BehaviorSubject(DEFAULT);
    this._options = DEFAULT;
  }
  get options() {
    return this._options;
  }
  get options$() {
    return this._options$.asObservable();
  }
  get collapsedIcon() {
    const collapsed = this.settings.layout.collapsed;
    let type = collapsed ? "unfold" : "fold";
    if (this.settings.layout.direction === "rtl") {
      type = collapsed ? "fold" : "unfold";
    }
    return `menu-${type}`;
  }
  notify() {
    this._options$.next(this._options);
  }
  /**
   * Set layout configuration
   *
   * 设置布局配置
   */
  setOptions(options) {
    this._options = __spreadValues(__spreadValues({}, DEFAULT), options);
    this.notify();
  }
  /**
   * Toggle the collapsed state of the sidebar menu bar
   *
   * 切换侧边栏菜单栏折叠状态
   */
  toggleCollapsed(status) {
    this.settings.setLayout("collapsed", status != null ? status : !this.settings.layout.collapsed);
    this.notify();
  }
};
_LayoutDefaultService.ɵfac = function LayoutDefaultService_Factory(t) {
  return new (t || _LayoutDefaultService)();
};
_LayoutDefaultService.ɵprov = ɵɵdefineInjectable({
  token: _LayoutDefaultService,
  factory: _LayoutDefaultService.ɵfac,
  providedIn: "root"
});
var LayoutDefaultService = _LayoutDefaultService;
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultService, [{
    type: Injectable,
    args: [{
      providedIn: "root"
    }]
  }], null, null);
})();
var SHOWCLS = "sidebar-nav__floating-show";
var FLOATINGCLS = "sidebar-nav__floating";
var _LayoutDefaultNavComponent = class _LayoutDefaultNavComponent {
  constructor() {
    this.doc = inject(DOCUMENT);
    this.win = inject(WINDOW);
    this.router = inject(Router);
    this.render = inject(Renderer2);
    this.menuSrv = inject(MenuService);
    this.settings = inject(SettingsService);
    this.cdr = inject(ChangeDetectorRef);
    this.ngZone = inject(NgZone);
    this.sanitizer = inject(DomSanitizer);
    this.directionality = inject(Directionality, {
      optional: true
    });
    this.destroy$ = inject(DestroyRef);
    this.dir = "ltr";
    this.list = [];
    this.disabledAcl = false;
    this.autoCloseUnderPad = true;
    this.recursivePath = true;
    this.hideEmptyChildren = true;
    this.maxLevelIcon = 3;
    this.select = new EventEmitter();
  }
  set openStrictly(value) {
    this.menuSrv.openStrictly = value;
  }
  get collapsed() {
    return this.settings.layout.collapsed;
  }
  getLinkNode(node) {
    node = node.nodeName === "A" ? node : node.parentNode;
    return node.nodeName !== "A" ? null : node;
  }
  floatingClickHandle(e) {
    e.stopPropagation();
    const linkNode = this.getLinkNode(e.target);
    if (linkNode == null) {
      return false;
    }
    const id = +linkNode.dataset.id;
    if (isNaN(id)) {
      return false;
    }
    let item;
    this.menuSrv.visit(this.list, (i) => {
      if (!item && i._id === id) {
        item = i;
      }
    });
    this.to(item);
    this.hideAll();
    e.preventDefault();
    return false;
  }
  clearFloating() {
    if (!this.floatingEl)
      return;
    this.floatingEl.removeEventListener("click", this.floatingClickHandle.bind(this));
    if (this.floatingEl.hasOwnProperty("remove")) {
      this.floatingEl.remove();
    } else if (this.floatingEl.parentNode) {
      this.floatingEl.parentNode.removeChild(this.floatingEl);
    }
  }
  genFloating() {
    this.clearFloating();
    this.floatingEl = this.render.createElement("div");
    this.floatingEl.classList.add(`${FLOATINGCLS}-container`);
    this.floatingEl.addEventListener("click", this.floatingClickHandle.bind(this), false);
    this.bodyEl.appendChild(this.floatingEl);
  }
  genSubNode(linkNode, item) {
    const id = `_sidebar-nav-${item._id}`;
    const childNode = item.badge ? linkNode.nextElementSibling.nextElementSibling : linkNode.nextElementSibling;
    const node = childNode.cloneNode(true);
    node.id = id;
    node.classList.add(FLOATINGCLS);
    node.addEventListener("mouseleave", () => {
      node.classList.remove(SHOWCLS);
    }, false);
    this.floatingEl.appendChild(node);
    return node;
  }
  hideAll() {
    const allNode = this.floatingEl.querySelectorAll(`.${FLOATINGCLS}`);
    for (let i = 0; i < allNode.length; i++) {
      allNode[i].classList.remove(SHOWCLS);
    }
  }
  // calculate the node position values.
  calPos(linkNode, node) {
    const rect = linkNode.getBoundingClientRect();
    const scrollTop = Math.max(this.doc.documentElement.scrollTop, this.bodyEl.scrollTop);
    const docHeight = Math.max(this.doc.documentElement.clientHeight, this.bodyEl.clientHeight);
    const spacing = 5;
    let offsetHeight = -spacing;
    if (docHeight < rect.top + node.clientHeight) {
      offsetHeight = rect.top + node.clientHeight - docHeight + spacing;
    }
    node.style.top = `${rect.top + scrollTop - offsetHeight}px`;
    if (this.dir === "rtl") {
      node.style.right = `${rect.width + spacing}px`;
    } else {
      node.style.left = `${rect.right + spacing}px`;
    }
  }
  showSubMenu(e, item) {
    if (this.collapsed !== true) {
      return;
    }
    e.preventDefault();
    const linkNode = e.target;
    this.genFloating();
    const subNode = this.genSubNode(linkNode, item);
    this.hideAll();
    subNode.classList.add(SHOWCLS);
    this.calPos(linkNode, subNode);
  }
  to(item) {
    this.select.emit(item);
    if (item.disabled)
      return;
    if (item.externalLink) {
      if (item.target === "_blank") {
        this.win.open(item.externalLink);
      } else {
        this.win.location.href = item.externalLink;
      }
      return;
    }
    this.ngZone.run(() => this.router.navigateByUrl(item.link));
  }
  toggleOpen(item) {
    this.menuSrv.toggleOpen(item);
  }
  _click() {
    if (this.isPad && this.collapsed) {
      this.openAside(false);
      this.hideAll();
    }
  }
  closeSubMenu() {
    if (this.collapsed) {
      this.hideAll();
    }
  }
  openByUrl(url) {
    const {
      menuSrv,
      recursivePath
    } = this;
    this.menuSrv.open(menuSrv.find({
      url,
      recursive: recursivePath
    }));
  }
  ngOnInit() {
    const {
      doc,
      router,
      menuSrv,
      settings,
      cdr
    } = this;
    this.bodyEl = doc.querySelector("body");
    menuSrv.change.pipe(takeUntilDestroyed(this.destroy$)).subscribe((data) => {
      menuSrv.visit(data, (i, _p, depth) => {
        i._text = this.sanitizer.bypassSecurityTrustHtml(i.text);
        i._needIcon = depth <= this.maxLevelIcon && !!i.icon;
        if (!i._aclResult) {
          if (this.disabledAcl) {
            i.disabled = true;
          } else {
            i._hidden = true;
          }
        }
        const icon = i.icon;
        if (icon && icon.type === "svg" && typeof icon.value === "string") {
          icon.value = this.sanitizer.bypassSecurityTrustHtml(icon.value);
        }
      });
      if (this.hideEmptyChildren)
        this.fixHide(data);
      this.list = data.filter((w) => w._hidden !== true);
      cdr.detectChanges();
    });
    router.events.pipe(takeUntilDestroyed(this.destroy$)).subscribe((e) => {
      if (e instanceof NavigationEnd) {
        this.openByUrl(e.urlAfterRedirects);
        this.underPad();
        this.cdr.detectChanges();
      }
    });
    settings.notify.pipe(takeUntilDestroyed(this.destroy$), filter((t) => t.type === "layout" && t.name === "collapsed")).subscribe(() => this.clearFloating());
    this.underPad();
    this.dir = this.directionality?.value;
    this.directionality?.change.pipe(takeUntilDestroyed(this.destroy$)).subscribe((direction) => {
      this.dir = direction;
      this.cdr.detectChanges();
    });
    this.openByUrl(router.url);
    this.ngZone.runOutsideAngular(() => this.genFloating());
  }
  fixHide(ls) {
    const inFn = (list) => {
      for (const item of list) {
        if (item.children && item.children.length > 0) {
          inFn(item.children);
          if (!item._hidden) {
            item._hidden = item.children.every((v) => v._hidden);
          }
        }
      }
    };
    inFn(ls);
  }
  ngOnDestroy() {
    this.clearFloating();
  }
  // #region Under pad
  get isPad() {
    return this.doc.defaultView.innerWidth < 768;
  }
  underPad() {
    if (this.autoCloseUnderPad && this.isPad && !this.collapsed) {
      setTimeout(() => this.openAside(true));
    }
  }
  openAside(status) {
    this.settings.setLayout("collapsed", status);
  }
};
_LayoutDefaultNavComponent.ɵfac = function LayoutDefaultNavComponent_Factory(t) {
  return new (t || _LayoutDefaultNavComponent)();
};
_LayoutDefaultNavComponent.ɵcmp = ɵɵdefineComponent({
  type: _LayoutDefaultNavComponent,
  selectors: [["layout-default-nav"]],
  hostVars: 2,
  hostBindings: function LayoutDefaultNavComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      ɵɵlistener("click", function LayoutDefaultNavComponent_click_HostBindingHandler() {
        return ctx._click();
      })("click", function LayoutDefaultNavComponent_click_HostBindingHandler() {
        return ctx.closeSubMenu();
      }, false, ɵɵresolveDocument);
    }
    if (rf & 2) {
      ɵɵclassProp("d-block", true);
    }
  },
  inputs: {
    disabledAcl: [InputFlags.HasDecoratorInputTransform, "disabledAcl", "disabledAcl", booleanAttribute],
    autoCloseUnderPad: [InputFlags.HasDecoratorInputTransform, "autoCloseUnderPad", "autoCloseUnderPad", booleanAttribute],
    recursivePath: [InputFlags.HasDecoratorInputTransform, "recursivePath", "recursivePath", booleanAttribute],
    hideEmptyChildren: [InputFlags.HasDecoratorInputTransform, "hideEmptyChildren", "hideEmptyChildren", booleanAttribute],
    openStrictly: [InputFlags.HasDecoratorInputTransform, "openStrictly", "openStrictly", booleanAttribute],
    maxLevelIcon: [InputFlags.HasDecoratorInputTransform, "maxLevelIcon", "maxLevelIcon", numberAttribute]
  },
  outputs: {
    select: "select"
  },
  features: [ɵɵInputTransformsFeature],
  decls: 7,
  vars: 0,
  consts: [["icon", ""], ["tree", ""], [1, "sidebar-nav"], ["nz-icon", "", 1, "sidebar-nav__item-icon", 3, "nzType", "nzTheme", "nzSpin", "nzTwotoneColor", "nzIconfont", "nzRotate"], ["nz-icon", "", 1, "sidebar-nav__item-icon", 3, "nzIconfont"], [1, "sidebar-nav__item-icon", "sidebar-nav__item-img", 3, "src"], [1, "sidebar-nav__item-icon", "sidebar-nav__item-svg", 3, "innerHTML"], ["class", "sidebar-nav__item", 3, "sidebar-nav__selected", "sidebar-nav__open"], [1, "sidebar-nav__item"], ["class", "sidebar-nav__item-link", 3, "ngClass"], ["class", "sidebar-nav__item-link"], ["nzStandalone", "", 3, "nzCount", "nzDot", "nzOverflowCount"], [3, "class"], [1, "sidebar-nav__item-link", 3, "ngClass", "click", "mouseenter"], [1, "sidebar-nav__item-text", 3, "innerHTML"], ["nz-tooltip", "", "nzTooltipPlacement", "right", 3, "nzTooltipTitle"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "sidebar-nav__item-link", 3, "click", "mouseenter"], [1, "sidebar-nav__sub-arrow"], ["class", "sidebar-nav__item sidebar-nav__group-title"], [1, "sidebar-nav__item", "sidebar-nav__group-title"], [3, "innerHTML"]],
  template: function LayoutDefaultNavComponent_Template(rf, ctx) {
    if (rf & 1) {
      ɵɵtemplate(0, LayoutDefaultNavComponent_ng_template_0_Template, 1, 1, "ng-template", null, 0, ɵɵtemplateRefExtractor)(2, LayoutDefaultNavComponent_ng_template_2_Template, 2, 0, "ng-template", null, 1, ɵɵtemplateRefExtractor);
      ɵɵelementStart(4, "ul", 2);
      ɵɵrepeaterCreate(5, LayoutDefaultNavComponent_For_6_Template, 2, 5, null, 16, ɵɵrepeaterTrackByIndex);
      ɵɵelementEnd();
    }
    if (rf & 2) {
      ɵɵadvance(5);
      ɵɵrepeater(ctx.list);
    }
  },
  dependencies: [NgClass, NgTemplateOutlet, NzTooltipDirective, NzIconDirective, NzBadgeComponent],
  encapsulation: 2,
  changeDetection: 0
});
var LayoutDefaultNavComponent = _LayoutDefaultNavComponent;
__decorate([ZoneOutside()], LayoutDefaultNavComponent.prototype, "showSubMenu", null);
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultNavComponent, [{
    type: Component,
    args: [{
      selector: "layout-default-nav",
      host: {
        "(click)": "_click()",
        "(document:click)": "closeSubMenu()",
        "[class.d-block]": `true`
      },
      preserveWhitespaces: false,
      changeDetection: ChangeDetectionStrategy.OnPush,
      encapsulation: ViewEncapsulation$1.None,
      template: `<ng-template #icon let-i>
  @if (i) {
    @switch (i.type) {
      @case ('icon') {
        <i
          class="sidebar-nav__item-icon"
          nz-icon
          [nzType]="i.value"
          [nzTheme]="i.theme"
          [nzSpin]="i.spin"
          [nzTwotoneColor]="i.twoToneColor"
          [nzIconfont]="i.iconfont"
          [nzRotate]="i.rotate"
        ></i>
      }
      @case ('iconfont') {
        <i class="sidebar-nav__item-icon" nz-icon [nzIconfont]="i.iconfont"></i>
      }
      @case ('img') {
        <img [src]="i.value" class="sidebar-nav__item-icon sidebar-nav__item-img" />
      }
      @case ('svg') {
        <span class="sidebar-nav__item-icon sidebar-nav__item-svg" [innerHTML]="i.value"></span>
      }
      @default {
        <i class="sidebar-nav__item-icon {{ i.value }}"></i>
      }
    }
  }
</ng-template>
<ng-template #tree let-ls>
  @for (i of ls; track $index) {
    @if (i._hidden !== true) {
      <li class="sidebar-nav__item" [class.sidebar-nav__selected]="i._selected" [class.sidebar-nav__open]="i.open">
        <!-- link -->
        @if (i.children.length === 0) {
          <a
            (click)="to(i)"
            [attr.data-id]="i._id"
            class="sidebar-nav__item-link"
            [ngClass]="{ 'sidebar-nav__item-disabled': i.disabled }"
            (mouseenter)="closeSubMenu()"
          >
            @if (i._needIcon) {
              @if (collapsed) {
                <span nz-tooltip nzTooltipPlacement="right" [nzTooltipTitle]="i.text">
                  <ng-template [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{ $implicit: i.icon }" />
                </span>
              } @else {
                <ng-template [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{ $implicit: i.icon }" />
              }
            }
            <span class="sidebar-nav__item-text" [innerHTML]="i._text" [attr.title]="i.text"></span>
          </a>
        }
        <!-- has children link -->
        @if (i.children.length > 0) {
          <a (click)="toggleOpen(i)" (mouseenter)="showSubMenu($event, i)" class="sidebar-nav__item-link">
            <ng-template [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{ $implicit: i.icon }" />
            <span class="sidebar-nav__item-text" [innerHTML]="i._text" [attr.title]="i.text"></span>
            <i class="sidebar-nav__sub-arrow"></i>
          </a>
        }
        <!-- badge -->
        @if (i.badge) {
          <nz-badge [nzCount]="i.badge" [nzDot]="i.badgeDot" nzStandalone [nzOverflowCount]="9" />
        }
        @if (i.children.length > 0) {
          <ul class="sidebar-nav sidebar-nav__sub sidebar-nav__depth{{ i._depth }}">
            <ng-template [ngTemplateOutlet]="tree" [ngTemplateOutletContext]="{ $implicit: i.children }" />
          </ul>
        }
      </li>
    }
  }
</ng-template>
<ul class="sidebar-nav">
  @for (group of list; track $index) {
    @if (group.group) {
      <li class="sidebar-nav__item sidebar-nav__group-title">
        <span [innerHTML]="group._text"></span>
      </li>
    }
    <ng-template [ngTemplateOutlet]="tree" [ngTemplateOutletContext]="{ $implicit: group.children }" />
  }
</ul>
`
    }]
  }], null, {
    disabledAcl: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    autoCloseUnderPad: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    recursivePath: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    hideEmptyChildren: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    openStrictly: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    maxLevelIcon: [{
      type: Input,
      args: [{
        transform: numberAttribute
      }]
    }],
    select: [{
      type: Output
    }],
    showSubMenu: []
  });
})();
var _LayoutDefaultHeaderComponent = class _LayoutDefaultHeaderComponent {
  constructor() {
    this.settings = inject(SettingsService);
    this.srv = inject(LayoutDefaultService);
    this.cdr = inject(ChangeDetectorRef);
    this.destroy$ = inject(DestroyRef);
    this.left = [];
    this.middle = [];
    this.right = [];
  }
  get opt() {
    return this.srv.options;
  }
  get app() {
    return this.settings.app;
  }
  get collapsed() {
    return this.settings.layout.collapsed;
  }
  get collapsedIcon() {
    return this.srv.collapsedIcon;
  }
  refresh() {
    const arr = this.items.toArray();
    this.left = arr.filter((i) => i.direction === "left");
    this.middle = arr.filter((i) => i.direction === "middle");
    this.right = arr.filter((i) => i.direction === "right");
    this.cdr.detectChanges();
  }
  ngAfterViewInit() {
    this.items.changes.pipe(takeUntilDestroyed(this.destroy$)).subscribe(() => this.refresh());
    this.srv.options$.pipe(takeUntilDestroyed(this.destroy$)).subscribe(() => this.cdr.detectChanges());
    this.refresh();
  }
  toggleCollapsed() {
    this.srv.toggleCollapsed();
  }
};
_LayoutDefaultHeaderComponent.ɵfac = function LayoutDefaultHeaderComponent_Factory(t) {
  return new (t || _LayoutDefaultHeaderComponent)();
};
_LayoutDefaultHeaderComponent.ɵcmp = ɵɵdefineComponent({
  type: _LayoutDefaultHeaderComponent,
  selectors: [["layout-default-header"]],
  hostVars: 2,
  hostBindings: function LayoutDefaultHeaderComponent_HostBindings(rf, ctx) {
    if (rf & 2) {
      ɵɵclassProp("alain-default__header", true);
    }
  },
  inputs: {
    items: "items"
  },
  decls: 12,
  vars: 13,
  consts: [["render", ""], [1, "alain-default__header-logo"], [1, "alain-default__nav-wrap"], [1, "alain-default__nav"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], ["class", "alain-default__nav alain-default__nav-middle"], [4, "ngTemplateOutlet"], [3, "hidden-mobile", "hidden-pc"], [1, "alain-default__header-logo-link", 3, "routerLink"], [1, "alain-default__header-logo-expanded"], [1, "alain-default__header-logo-collapsed"], [1, "alain-default__nav-item", "alain-default__nav-item--collapse", 3, "click"], ["nz-icon", "", 3, "nzType"], [1, "alain-default__nav", "alain-default__nav-middle"]],
  template: function LayoutDefaultHeaderComponent_Template(rf, ctx) {
    if (rf & 1) {
      ɵɵtemplate(0, LayoutDefaultHeaderComponent_ng_template_0_Template, 2, 0, "ng-template", null, 0, ɵɵtemplateRefExtractor);
      ɵɵelementStart(2, "div", 1);
      ɵɵtemplate(3, LayoutDefaultHeaderComponent_Conditional_3_Template, 1, 1, "ng-container")(4, LayoutDefaultHeaderComponent_Conditional_4_Template, 3, 5);
      ɵɵelementEnd();
      ɵɵelementStart(5, "div", 2)(6, "ul", 3);
      ɵɵtemplate(7, LayoutDefaultHeaderComponent_Conditional_7_Template, 3, 1, "li")(8, LayoutDefaultHeaderComponent_ng_template_8_Template, 0, 0, "ng-template", 4);
      ɵɵelementEnd();
      ɵɵtemplate(9, LayoutDefaultHeaderComponent_Conditional_9_Template, 2, 1, "div", 5);
      ɵɵelementStart(10, "ul", 3);
      ɵɵtemplate(11, LayoutDefaultHeaderComponent_ng_template_11_Template, 0, 0, "ng-template", 4);
      ɵɵelementEnd()();
    }
    if (rf & 2) {
      const _r1 = ɵɵreference(1);
      ɵɵadvance(2);
      ɵɵstyleProp("width", ctx.opt.logoFixWidth, "px");
      ɵɵadvance();
      ɵɵconditional(3, ctx.opt.logo ? 3 : 4);
      ɵɵadvance(4);
      ɵɵconditional(7, !ctx.opt.hideAside && ctx.opt.showHeaderCollapse ? 7 : -1);
      ɵɵadvance();
      ɵɵproperty("ngTemplateOutlet", _r1)("ngTemplateOutletContext", ɵɵpureFunction1(9, _c2, ctx.left));
      ɵɵadvance();
      ɵɵconditional(9, ctx.middle.length > 0 ? 9 : -1);
      ɵɵadvance(2);
      ɵɵproperty("ngTemplateOutlet", _r1)("ngTemplateOutletContext", ɵɵpureFunction1(11, _c2, ctx.right));
    }
  },
  dependencies: [NgTemplateOutlet, RouterLink, NzIconDirective],
  encapsulation: 2,
  changeDetection: 0
});
var LayoutDefaultHeaderComponent = _LayoutDefaultHeaderComponent;
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultHeaderComponent, [{
    type: Component,
    args: [{
      selector: "layout-default-header",
      template: `
    <ng-template #render let-ls>
      @for (i of ls; track $index) {
        <li [class.hidden-mobile]="i.hidden === 'mobile'" [class.hidden-pc]="i.hidden === 'pc'">
          <ng-container *ngTemplateOutlet="i.host" />
        </li>
      }
    </ng-template>
    <div class="alain-default__header-logo" [style.width.px]="opt.logoFixWidth">
      @if (opt.logo) {
        <ng-container *ngTemplateOutlet="opt.logo" />
      } @else {
        <a [routerLink]="opt.logoLink" class="alain-default__header-logo-link">
          <img class="alain-default__header-logo-expanded" [attr.src]="opt.logoExpanded" [attr.alt]="app.name" />
          <img class="alain-default__header-logo-collapsed" [attr.src]="opt.logoCollapsed" [attr.alt]="app.name" />
        </a>
      }
    </div>
    <div class="alain-default__nav-wrap">
      <ul class="alain-default__nav">
        @if (!opt.hideAside && opt.showHeaderCollapse) {
          <li>
            <div class="alain-default__nav-item alain-default__nav-item--collapse" (click)="toggleCollapsed()">
              <span nz-icon [nzType]="collapsedIcon"></span>
            </div>
          </li>
        }
        <ng-template [ngTemplateOutlet]="render" [ngTemplateOutletContext]="{ $implicit: left }" />
      </ul>
      @if (middle.length > 0) {
        <div class="alain-default__nav alain-default__nav-middle">
          <ng-container *ngTemplateOutlet="middle[0].host" />
        </div>
      }
      <ul class="alain-default__nav">
        <ng-template [ngTemplateOutlet]="render" [ngTemplateOutletContext]="{ $implicit: right }" />
      </ul>
    </div>
  `,
      host: {
        "[class.alain-default__header]": `true`
      },
      changeDetection: ChangeDetectionStrategy.OnPush
    }]
  }], null, {
    items: [{
      type: Input
    }]
  });
})();
var _LayoutDefaultComponent = class _LayoutDefaultComponent {
  get opt() {
    return this.srv.options;
  }
  set options(value) {
    this.srv.setOptions(value);
  }
  get showFetching() {
    if (this.fetchingStrictly)
      return this.fetching;
    return this.isFetching;
  }
  get collapsed() {
    return this.settings.layout.collapsed;
  }
  get collapsedIcon() {
    return this.srv.collapsedIcon;
  }
  toggleCollapsed() {
    this.srv.toggleCollapsed();
  }
  constructor(router, msgSrv, settings, el, renderer, doc, srv) {
    this.msgSrv = msgSrv;
    this.settings = settings;
    this.el = el;
    this.renderer = renderer;
    this.doc = doc;
    this.srv = srv;
    this.asideUser = null;
    this.asideBottom = null;
    this.nav = null;
    this.content = null;
    this.fetchingStrictly = false;
    this.fetching = false;
    this.isFetching = false;
    router.events.pipe(takeUntilDestroyed(), filter(() => !this.fetchingStrictly)).subscribe((ev) => this.processEv(ev));
    this.srv.options$.pipe(takeUntilDestroyed()).subscribe(() => this.setClass());
    this.settings.notify.pipe(takeUntilDestroyed()).subscribe(() => this.setClass());
  }
  processEv(ev) {
    if (!this.isFetching && ev instanceof RouteConfigLoadStart) {
      this.isFetching = true;
    }
    if (ev instanceof NavigationError || ev instanceof NavigationCancel) {
      this.isFetching = false;
      const err = this.customError === null ? null : this.customError ?? `Could not load ${ev.url} route`;
      if (err && ev instanceof NavigationError) {
        this.msgSrv.error(err, {
          nzDuration: 1e3 * 3
        });
      }
      return;
    }
    if (!(ev instanceof NavigationEnd || ev instanceof RouteConfigLoadEnd)) {
      return;
    }
    if (this.isFetching) {
      setTimeout(() => {
        this.isFetching = false;
      }, 100);
    }
  }
  setClass() {
    const {
      el,
      doc,
      renderer,
      settings
    } = this;
    const layout = settings.layout;
    updateHostClass(el.nativeElement, renderer, {
      ["alain-default"]: true,
      [`alain-default__fixed`]: layout.fixed,
      [`alain-default__collapsed`]: layout.collapsed,
      [`alain-default__hide-aside`]: this.opt.hideAside,
      [`alain-default__hide-header`]: this.opt.hideHeader
    });
    doc.body.classList[layout.colorWeak ? "add" : "remove"]("color-weak");
  }
};
_LayoutDefaultComponent.ɵfac = function LayoutDefaultComponent_Factory(t) {
  return new (t || _LayoutDefaultComponent)(ɵɵdirectiveInject(Router), ɵɵdirectiveInject(NzMessageService), ɵɵdirectiveInject(SettingsService), ɵɵdirectiveInject(ElementRef), ɵɵdirectiveInject(Renderer2), ɵɵdirectiveInject(DOCUMENT), ɵɵdirectiveInject(LayoutDefaultService));
};
_LayoutDefaultComponent.ɵcmp = ɵɵdefineComponent({
  type: _LayoutDefaultComponent,
  selectors: [["layout-default"]],
  contentQueries: function LayoutDefaultComponent_ContentQueries(rf, ctx, dirIndex) {
    if (rf & 1) {
      ɵɵcontentQuery(dirIndex, LayoutDefaultHeaderItemComponent, 4);
    }
    if (rf & 2) {
      let _t;
      ɵɵqueryRefresh(_t = ɵɵloadQuery()) && (ctx.headerItems = _t);
    }
  },
  inputs: {
    options: "options",
    asideUser: "asideUser",
    asideBottom: "asideBottom",
    nav: "nav",
    content: "content",
    customError: "customError",
    fetchingStrictly: [InputFlags.HasDecoratorInputTransform, "fetchingStrictly", "fetchingStrictly", booleanAttribute],
    fetching: [InputFlags.HasDecoratorInputTransform, "fetching", "fetching", booleanAttribute]
  },
  exportAs: ["layoutDefault"],
  features: [ɵɵInputTransformsFeature],
  ngContentSelectors: _c1,
  decls: 6,
  vars: 4,
  consts: [["class", "alain-default__progress-bar"], [3, "items"], ["class", "alain-default__aside"], [1, "alain-default__content"], [4, "ngTemplateOutlet"], [1, "alain-default__progress-bar"], [1, "alain-default__aside"], [1, "alain-default__aside-wrap"], [1, "alain-default__aside-inner"], ["class", "alain-default__aside-link"], [1, "alain-default__aside-link"], [1, "alain-default__aside-link-collapsed", 3, "click"], ["nz-icon", "", 3, "nzType"]],
  template: function LayoutDefaultComponent_Template(rf, ctx) {
    if (rf & 1) {
      ɵɵprojectionDef();
      ɵɵtemplate(0, LayoutDefaultComponent_Conditional_0_Template, 1, 0, "div", 0)(1, LayoutDefaultComponent_Conditional_1_Template, 1, 1, "layout-default-header", 1)(2, LayoutDefaultComponent_Conditional_2_Template, 7, 4, "div", 2);
      ɵɵelementStart(3, "section", 3);
      ɵɵtemplate(4, LayoutDefaultComponent_ng_container_4_Template, 1, 0, "ng-container", 4);
      ɵɵprojection(5);
      ɵɵelementEnd();
    }
    if (rf & 2) {
      ɵɵconditional(0, ctx.showFetching ? 0 : -1);
      ɵɵadvance();
      ɵɵconditional(1, !ctx.opt.hideHeader ? 1 : -1);
      ɵɵadvance();
      ɵɵconditional(2, !ctx.opt.hideAside ? 2 : -1);
      ɵɵadvance(2);
      ɵɵproperty("ngTemplateOutlet", ctx.content);
    }
  },
  dependencies: [NgTemplateOutlet, NzIconDirective, LayoutDefaultNavComponent, LayoutDefaultHeaderComponent],
  encapsulation: 2
});
var LayoutDefaultComponent = _LayoutDefaultComponent;
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultComponent, [{
    type: Component,
    args: [{
      selector: "layout-default",
      exportAs: "layoutDefault",
      template: `
    @if (showFetching) {
      <div class="alain-default__progress-bar"></div>
    }
    @if (!opt.hideHeader) {
      <layout-default-header [items]="headerItems" />
    }
    @if (!opt.hideAside) {
      <div class="alain-default__aside">
        <div class="alain-default__aside-wrap">
          <div class="alain-default__aside-inner">
            <ng-container *ngTemplateOutlet="asideUser" />
            <ng-container *ngTemplateOutlet="nav" />
            @if (!nav) {
              <layout-default-nav />
            }
          </div>
          @if (opt.showSiderCollapse) {
            <div class="alain-default__aside-link">
              @if (asideBottom) {
                <ng-container *ngTemplateOutlet="asideBottom" />
              } @else {
                <div class="alain-default__aside-link-collapsed" (click)="toggleCollapsed()">
                  <span nz-icon [nzType]="collapsedIcon"></span>
                </div>
              }
            </div>
          }
        </div>
      </div>
    }
    <section class="alain-default__content">
      <ng-container *ngTemplateOutlet="content" />
      <ng-content />
    </section>
  `
    }]
  }], () => [{
    type: Router
  }, {
    type: NzMessageService
  }, {
    type: SettingsService
  }, {
    type: ElementRef
  }, {
    type: Renderer2
  }, {
    type: void 0,
    decorators: [{
      type: Inject,
      args: [DOCUMENT]
    }]
  }, {
    type: LayoutDefaultService
  }], {
    headerItems: [{
      type: ContentChildren,
      args: [LayoutDefaultHeaderItemComponent, {
        descendants: false
      }]
    }],
    options: [{
      type: Input
    }],
    asideUser: [{
      type: Input
    }],
    asideBottom: [{
      type: Input
    }],
    nav: [{
      type: Input
    }],
    content: [{
      type: Input
    }],
    customError: [{
      type: Input
    }],
    fetchingStrictly: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    fetching: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }]
  });
})();
var _LayoutDefaultHeaderItemTriggerDirective = class _LayoutDefaultHeaderItemTriggerDirective {
};
_LayoutDefaultHeaderItemTriggerDirective.ɵfac = function LayoutDefaultHeaderItemTriggerDirective_Factory(t) {
  return new (t || _LayoutDefaultHeaderItemTriggerDirective)();
};
_LayoutDefaultHeaderItemTriggerDirective.ɵdir = ɵɵdefineDirective({
  type: _LayoutDefaultHeaderItemTriggerDirective,
  selectors: [["", "layout-default-header-item-trigger", ""]],
  hostVars: 2,
  hostBindings: function LayoutDefaultHeaderItemTriggerDirective_HostBindings(rf, ctx) {
    if (rf & 2) {
      ɵɵclassProp("alain-default__nav-item", true);
    }
  }
});
var LayoutDefaultHeaderItemTriggerDirective = _LayoutDefaultHeaderItemTriggerDirective;
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultHeaderItemTriggerDirective, [{
    type: Directive,
    args: [{
      selector: "[layout-default-header-item-trigger]",
      host: {
        "[class.alain-default__nav-item]": `true`
      }
    }]
  }], null, null);
})();
var _LayoutDefaultTopMenuItemComponent = class _LayoutDefaultTopMenuItemComponent {
  constructor() {
    this.selected = false;
    this.disabled = false;
  }
};
_LayoutDefaultTopMenuItemComponent.ɵfac = function LayoutDefaultTopMenuItemComponent_Factory(t) {
  return new (t || _LayoutDefaultTopMenuItemComponent)();
};
_LayoutDefaultTopMenuItemComponent.ɵcmp = ɵɵdefineComponent({
  type: _LayoutDefaultTopMenuItemComponent,
  selectors: [["layout-default-top-menu-item"]],
  hostVars: 8,
  hostBindings: function LayoutDefaultTopMenuItemComponent_HostBindings(rf, ctx) {
    if (rf & 2) {
      ɵɵclassProp("alain-default__nav-item", true)("alain-default__top-menu-item", true)("alain-default__top-menu-item-selected", ctx.selected)("alain-default__top-menu-item-disabled", ctx.disabled);
    }
  },
  inputs: {
    selected: [InputFlags.HasDecoratorInputTransform, "selected", "selected", booleanAttribute],
    disabled: [InputFlags.HasDecoratorInputTransform, "disabled", "disabled", booleanAttribute]
  },
  features: [ɵɵInputTransformsFeature],
  ngContentSelectors: _c1,
  decls: 1,
  vars: 0,
  template: function LayoutDefaultTopMenuItemComponent_Template(rf, ctx) {
    if (rf & 1) {
      ɵɵprojectionDef();
      ɵɵprojection(0);
    }
  },
  encapsulation: 2,
  changeDetection: 0
});
var LayoutDefaultTopMenuItemComponent = _LayoutDefaultTopMenuItemComponent;
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultTopMenuItemComponent, [{
    type: Component,
    args: [{
      selector: "layout-default-top-menu-item",
      template: `<ng-content />`,
      host: {
        "[class.alain-default__nav-item]": `true`,
        "[class.alain-default__top-menu-item]": `true`,
        "[class.alain-default__top-menu-item-selected]": `selected`,
        "[class.alain-default__top-menu-item-disabled]": `disabled`
      },
      preserveWhitespaces: false,
      changeDetection: ChangeDetectionStrategy.OnPush,
      encapsulation: ViewEncapsulation$1.None
    }]
  }], null, {
    selected: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    disabled: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }]
  });
})();
var COMPONENTS = [LayoutDefaultComponent, LayoutDefaultNavComponent, LayoutDefaultHeaderComponent, LayoutDefaultHeaderItemComponent, LayoutDefaultHeaderItemTriggerDirective, LayoutDefaultTopMenuItemComponent];
var _LayoutDefaultModule = class _LayoutDefaultModule {
};
_LayoutDefaultModule.ɵfac = function LayoutDefaultModule_Factory(t) {
  return new (t || _LayoutDefaultModule)();
};
_LayoutDefaultModule.ɵmod = ɵɵdefineNgModule({
  type: _LayoutDefaultModule,
  declarations: [LayoutDefaultComponent, LayoutDefaultNavComponent, LayoutDefaultHeaderComponent, LayoutDefaultHeaderItemComponent, LayoutDefaultHeaderItemTriggerDirective, LayoutDefaultTopMenuItemComponent],
  imports: [CommonModule, RouterModule, NzToolTipModule, NzIconModule, NzAvatarModule, NzDropDownModule, NzMessageModule, NzBadgeModule],
  exports: [LayoutDefaultComponent, LayoutDefaultNavComponent, LayoutDefaultHeaderComponent, LayoutDefaultHeaderItemComponent, LayoutDefaultHeaderItemTriggerDirective, LayoutDefaultTopMenuItemComponent]
});
_LayoutDefaultModule.ɵinj = ɵɵdefineInjector({
  imports: [CommonModule, RouterModule, NzToolTipModule, NzIconModule, NzAvatarModule, NzDropDownModule, NzMessageModule, NzBadgeModule]
});
var LayoutDefaultModule = _LayoutDefaultModule;
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultModule, [{
    type: NgModule,
    args: [{
      imports: [CommonModule, RouterModule, NzToolTipModule, NzIconModule, NzAvatarModule, NzDropDownModule, NzMessageModule, NzBadgeModule],
      declarations: COMPONENTS,
      exports: COMPONENTS
    }]
  }], null, null);
})();
export {
  LayoutDefaultComponent,
  LayoutDefaultHeaderComponent,
  LayoutDefaultHeaderItemComponent,
  LayoutDefaultHeaderItemTriggerDirective,
  LayoutDefaultModule,
  LayoutDefaultNavComponent,
  LayoutDefaultService,
  LayoutDefaultTopMenuItemComponent
};
//# sourceMappingURL=@delon_theme_layout-default.js.map
